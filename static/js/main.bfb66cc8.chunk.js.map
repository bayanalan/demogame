{"version":3,"sources":["assets/platform.png","assets/sky.png","assets/star.png","assets/dude.png","constants/index.js","scenes/Boot.js","sprites/Player.js","sprites/Star.js","texts/Score.js","scenes/Main.js","index.js"],"names":["ANIMATIONS","LEFT","RIGHT","TURN","SCENES","BOOT","MAIN","TEXTURES","DUDE","GROUND","SKY","STAR","Boot","key","load","this","image","require","default","spritesheet","frameWidth","frameHeight","scene","start","window","Phaser","Scene","GameObjects","Player","x","y","texture","frame","add","existing","physics","world","enable","body","setBounceY","setCollideWorldBounds","cursors","input","keyboard","createCursorKeys","anims","create","frames","generateFrameNumbers","end","frameRate","repeat","left","isDown","setVelocityX","play","right","up","touching","down","setVelocityY","Sprite","Math","Star","setOrigin","FloatBetween","Physics","Arcade","scoreTemplate","score","Score","text","style","setScore","Text","Main","height","game","config","platforms","staticGroup","defaultKey","get","setScale","refreshBody","forEach","coordinates","stars","group","classType","i","init","collider","player","overlap","collectStar","scoreText","fill","fontFamily","fontSize","star","disableBody","time","delta","update","Game","Scale","width","title","url","version","process","arcade","gravity","debug","disableContextMenu","backgroundColor","scale","mode","FIT","autoCenter","CENTER_BOTH"],"mappings":"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","file":"static/js/main.bfb66cc8.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/platform.69db09bf.png\";","export default __webpack_public_path__ + \"static/media/sky.47a86b19.png\";","export default __webpack_public_path__ + \"static/media/star.a7cb585c.png\";","export default __webpack_public_path__ + \"static/media/dude.526a78a9.png\";","export const ANIMATIONS = {\n  LEFT: 'LEFT',\n  RIGHT: 'RIGHT',\n  TURN: 'TURN',\n};\n\nexport const SCENES = {\n  BOOT: 'BOOT',\n  MAIN: 'MAIN',\n};\n\nexport const TEXTURES = {\n  DUDE: 'DUDE',\n  GROUND: 'GROUND',\n  SKY: 'SKY',\n  STAR: 'STAR',\n};\n\nexport default {\n  ANIMATIONS,\n  SCENES,\n  TEXTURES,\n};\n","import { SCENES, TEXTURES } from '../constants';\n\nconst { Scene } = window.Phaser;\n\nexport default class Boot extends Scene {\n  constructor() {\n    super({ key: SCENES.BOOT });\n  }\n\n  preload() {\n    const { load } = this;\n    load.image(TEXTURES.GROUND, require('../assets/platform.png').default);\n    load.image(TEXTURES.SKY, require('../assets/sky.png').default);\n    load.image(TEXTURES.STAR, require('../assets/star.png').default);\n    load.spritesheet(TEXTURES.DUDE, require('../assets/dude.png').default, {\n      frameWidth: 32,\n      frameHeight: 48,\n    });\n  }\n\n  create() {\n    this.scene.start(SCENES.MAIN);\n  }\n}\n","import { ANIMATIONS, TEXTURES } from '../constants';\n\nconst { GameObjects } = window.Phaser;\n\nconst HORIZONTAL_SPEED = 160;\nconst VERTICAL_SPEED = 330;\n\nexport default class Player extends GameObjects.Sprite {\n  constructor(scene, x, y, texture, frame) {\n    super(scene, x, y, TEXTURES.DUDE);\n\n    // Add the sprite to the scene.\n    scene.add.existing(this);\n\n    // Enable physics for the sprite.\n    scene.physics.world.enable(this);\n\n    // Player physics properties. Give the little guy some bounce.\n    this.body.setBounceY(0.2).setCollideWorldBounds(true);\n\n    // Add cursor keys.\n    this.cursors = scene.input.keyboard.createCursorKeys();\n  }\n\n  init() {\n    const { anims } = this.scene;\n\n    // Create left animation.\n    anims.create({\n      key: ANIMATIONS.LEFT,\n      frames: anims.generateFrameNumbers(TEXTURES.DUDE, {\n        start: 0,\n        end: 3,\n      }),\n      frameRate: 10,\n      repeat: -1,\n    });\n\n    // Create turn animation.\n    anims.create({\n      key: ANIMATIONS.TURN,\n      frames: [{ key: TEXTURES.DUDE, frame: 4 }],\n      frameRate: 20,\n    });\n\n    // Create right animation.\n    anims.create({\n      key: ANIMATIONS.RIGHT,\n      frames: anims.generateFrameNumbers(TEXTURES.DUDE, {\n        start: 5,\n        end: 8,\n      }),\n      frameRate: 10,\n      repeat: -1,\n    });\n\n    return this;\n  }\n\n  update() {\n    const { anims, body, cursors } = this;\n\n    switch (true) {\n      // Move to the left.\n      case cursors.left.isDown:\n        body.setVelocityX(-HORIZONTAL_SPEED);\n        anims.play(ANIMATIONS.LEFT, true);\n        break;\n      // Move to the right.\n      case cursors.right.isDown:\n        body.setVelocityX(HORIZONTAL_SPEED);\n        anims.play(ANIMATIONS.RIGHT, true);\n        break;\n      // Stand still.\n      default:\n        body.setVelocityX(0);\n        anims.play(ANIMATIONS.TURN);\n        break;\n    }\n\n    // Allow player to jump if sprite is touching the ground.\n    if (cursors.up.isDown && body.touching.down) {\n      body.setVelocityY(-VERTICAL_SPEED);\n    }\n  }\n}\n","import { TEXTURES } from '../constants';\n\nconst { Math, Physics } = window.Phaser;\n\nexport default class Star extends Physics.Arcade.Sprite {\n  constructor(scene, x, y, texture, frame) {\n    super(scene, x, y, TEXTURES.STAR);\n\n    // Reset drawing position of image to the top-left.\n    this.setOrigin(0);\n  }\n\n  init() {\n    // Give the sprite some bounce.\n    this.body.setBounceY(Math.FloatBetween(0.4, 0.8));\n  }\n}\n","const { GameObjects } = window.Phaser;\n\n/**\n * Template for displaying the score.\n *\n * @param  {Number} score\n * @return {String}\n */\nconst scoreTemplate = score => `Score: ${score}`;\n\nexport default class Score extends GameObjects.Text {\n  constructor(scene, x, y, text, style) {\n    super(scene, x, y, scoreTemplate(text), style);\n\n    // Add text to the scene.\n    scene.add.existing(this);\n  }\n\n  /**\n   * Updates the score text.\n   *\n   * @param {Number} score\n   */\n  setScore = score => {\n    this.text = scoreTemplate(score);\n  };\n}\n","import { Player, Star } from '../sprites';\nimport { SCENES, TEXTURES } from '../constants';\nimport { Score } from '../texts';\n\nconst { Scene } = window.Phaser;\n\nexport default class Main extends Scene {\n  constructor() {\n    super({ key: SCENES.MAIN });\n  }\n\n  create() {\n    const {\n      game: {\n        config: { height },\n      },\n      physics,\n    } = this;\n\n    // A simple background for our game.\n    this.add.image(0, 0, TEXTURES.SKY).setOrigin(0);\n\n    // The platforms group contains the ground and the 2 ledges we can jump on.\n    // It's created after the background so the order of layers (z-depth) is\n    // maintained (otherwise, the platforms will be hidden by the background).\n    const platforms = physics.add.staticGroup({\n      defaultKey: TEXTURES.GROUND,\n    });\n\n    // Create the ground (scale it to fit the widt of the game and scale it to\n    // fit the width of the game). The original sprite is 400x32 in size.\n    platforms\n      .get(0, height - 64)\n      .setOrigin(0)\n      .setScale(2)\n      .refreshBody();\n\n    // Now let's create three ledges.\n    [\n      [600, 400],\n      [50, 250],\n      [750, 220],\n    ].forEach(coordinates => {\n      platforms.get(...coordinates);\n    });\n\n    // Create stars group.\n    const stars = physics.add.group({\n      classType: Star,\n    });\n\n    // Here we'll create 12 of them evenly spaced apart.\n    for (let i = 0; i < 12; i++) {\n      stars.get(i * 70, 0).init();\n    }\n\n    // Collide the star with the platform or else the star will fall through.\n    physics.add.collider(stars, platforms);\n\n    // Create player.\n    const player = new Player(this, 32, height - 150).init();\n    this.player = player;\n\n    // Collide the player with the platform or else the player will fall through.\n    physics.add.collider(player, platforms);\n\n    // Check for overlap between the player and the star.\n    physics.add.overlap(player, stars, this.collectStar, null, this);\n\n    // Display score.\n    this.score = 0;\n    this.scoreText = new Score(this, 16, 16, this.score, {\n      fill: '#fff',\n      fontFamily: '\"Lucida Grande\", Helvetica, Arial, sans-serif',\n      fontSize: 32,\n    });\n  }\n\n  collectStar(player, star) {\n    // Make the star inactive and invisible.\n    star.disableBody(true, true);\n\n    // Add to the score and update the text.\n    this.score += 10;\n    this.scoreText.setScore(this.score);\n  }\n\n  update(time, delta) {\n    this.player.update();\n  }\n}\n","import './index.css';\nimport { Boot, Main } from './scenes';\n// import * as serviceWorker from './serviceWorker';\n\nconst { Game, Scale } = window.Phaser;\n\n/**\n * @see {@link https://photonstorm.github.io/phaser3-docs/global.html#GameConfig}\n */\nconst config = {\n  width: 800,\n  height: 600,\n  title: 'Demo Game',\n  // see `.env` and `package.json`\n  url: 'http://bayanalan.github.com/demogame',\n  version: process.env.WEB_APP_VERSION,\n  scene: [Boot, Main],\n  physics: {\n    default: 'arcade',\n    arcade: {\n      gravity: { y: 1000 },\n      debug: process.env.NODE_ENV === 'development',\n    },\n  },\n  disableContextMenu: true,\n  backgroundColor: '#000',\n  scale: {\n    mode: Scale.FIT,\n    autoCenter: Scale.CENTER_BOTH,\n  },\n};\n\nnew Game(config);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n// serviceWorker.unregister();\n"],"sourceRoot":""}